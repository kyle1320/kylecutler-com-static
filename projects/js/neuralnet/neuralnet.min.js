window.onload=function(){var n=$("draw-canvas");var a=n.getContext("2d");var o=true;var m;var b;var j={x:0,y:0,pressed:false,dragged:false};var e=null;var q={};var g={};p();function p(){scaleCanvas(n,a);fitElement(n);h();k(false)}function i(r,s){this.inputs=r;this.value=s}i.prototype.update=function(){var u=this.inputs.reduce(function(v,t){return v+t.weight});var s=this.inputs.reduce(function(v,t){return v+t.input.value});var r=s/u;this.value=1/(1+Math.exp(-10*r))};function f(s,r){this.weight=s;this.input=r}function c(t,s,z){this.inputs=Array(t);this.outputs=Array(z);this.stages=Array(s.length);var x;for(x=0;x<t;x++){this.inputs[x]=new i([])}var A=this;s.forEach(function(H,G){A.stages[G]=Array(H);var F,E,B;var D,C;if(G==0){B=t;D=A.inputs}else{B=s[G-1];D=A.stages[G-1]}for(F=0;F<H;F++){C=[];for(E=0;E<B;E++){C[E]=new f(Math.random(),D[E])}A.stages[G][F]=new i(C)}});var v,u;var w;var y=s[s.length-1];var r=this.stages[s.length-1];for(v=0;v<z;v++){w=[];for(u=0;u<y;u++){w[u]=new f(Math.random(),r[u])}this.outputs[v]=new i(w)}}c.prototype.update=function(){var t,s,r;for(t=0;t<this.stages.length;t++){r=this.stages[t].length;for(s=0;s<r;s++){this.stages[t][s].update()}}r=this.outputs.length;for(s=0;s<r;s++){this.outputs[s].update()}};function h(){b=new c(1,[3,3],1);b.inputs[0].value=0.5;b.update();console.log(b)}function d(){if(!o){setTimeout(d,q.delay)}}function l(){}function k(r){if(r&&!o){o=r;clearInterval(m)}else{if(!r&&o){o=r;m=setInterval(l,15);d()}}}};