<!DOCTYPE HTML>

<html>
	<head>
		<title>Spirograph</title>
		<meta charset="utf-8">
		<link href="/css/site.css" rel="stylesheet">
		<script src="/js/site.js" type="text/javascript"></script>
		
		<link href="spiro.css" rel="stylesheet" />
		<script type="text/javascript" src="spiro.js"></script>
		<script type="text/javascript" src="../util.js"></script>
	</head>

	<body>
		<div class="contentbox">
			<h2>Spirograph</h2>
			<div id="canvases">
				<canvas id="spiro-canvas" width="500px" height="500px"></canvas>
				<canvas id="info-canvas" width="500px" height="500px"></canvas>
			</div>
			
			<div id="controls">
				<p>Speed: <input id="speed-input" type="number" min="0.0" step="any"> rad / sec</input></p>
				<p>Iterations: <input id="iter-input" type="number" min="0" step="1"></input></p>
				<p>Pen Distance: <input id="pendist-input" type="number" min="-2" max="2" step="0.1"></input></p>
				<input type="checkbox" id="show-circles" checked=true>Show circles</input><br>
				<input type="checkbox" id="show-radii">Show radii</input><br>
				<input type="checkbox" id="show-pen">Show pen</input><br>
				<input type="checkbox" id="use-color" checked=true>Use color</input><br>
				<p><button id="pause-btn">Pause</button></p>
				<p><button id="reset-btn">Reset</button></p>
				<p>
					<button id="save-btn">Save</button><br>
					<img id="save-img" width="50" height="50" />
				</p>
			</div>
			
			<div id="circles"></div>
		</div>
		
		<div id="info">
			<p class="contentbox">
				space to play / pause<br>
				enter to reset<br>
				+ / - change the number of iterations<br>
				left / right arrows change the speed<br>
				NOTE: things get more interesting at high speeds ;)
			</p>
			<div class="contentbox">
				<h2>About Spirograph:</h2>
				<p>
					This is a highly customizable emulator of the classic "Spirograph" toy. 
					It is possible to have many nested "gears" of different sizes, each rotating at different speeds, and a pen
					at some point along the innermost circle tracing a path on the canvas. What follows is a description
					of each feature or option, and what it does:
					
					<ul>
						<li>
							<h3>Speed</h3>
							<p>
								This value represents a global multiplier by which the speed of every circle is multiplied.
								The higher this value, the faster the spirograph will move.
							</p>
							<p>
								At high speeds, interesting things start to happen. The precision of the spirograph begins to degrade,
								and the lines drawn between sample points start to become more visible. Increasing the speed
								even further can create interesting visual effects, so I encourage you to give it a try.
							</p>
						</li>
						<li>
							<h3>Iterations</h3>
							<p>
								Spirograph calculates a new frame roughly every 15 milliseconds. If only a single point
								along the spirograph was calculated each frame, the precision would degrade quickly,
								even at low speeds. So a certain number of sample points along the Spirograph are calculated 
								with every frame. This is the number of iterations.
							</p>
							<p>
								Increasing this value means that you can get a more accurate Spirograph even at high speeds,
								at the cost of extra computing power.
							</p>
						</li>
						<li>
							<h3>Pen Distance</h3>
							<p>
								Each frame, lines are drawn between calculated points along the Spirograph. These lines follow the pen,
								which is connected to the center-most circle. Changing the pen distance changes how far along the
								circle's radius the pen lies.
							</p>
							<p>
								Note that the pen distance may lie outside of the circle. This can lead to some interesting effects.
							</p>
						</li>
						<li>
							<h3>Color</h3>
							<p>
								When drawing with color, the angle of the innermost circle is used to determine the hue.
							</p>
						</li>
						<li>
							<h3>Circles</h3>
							<p>
								Spirograph keeps track of a list of nested circles, which rotate as if they were gears spinning 
								along the inside of the gear above it. Each circle has a radius and a speed.
							</p>
							<p>
								A circle's speed is a measure of how far along the inside of the parent circle it rotates each second.
								So a circle with speed 3.14 would complete one half revolution around its parent each second.
								Speeds may be negative, in which case the circle will simply rotate in the opposite direction.
							</p>
							<p>
								A circle's radius should have absolute value between 0 and 1. Higher values are acceptable, but will not fit
								inside of the canvas. A circle's radius may be negative, in which case the circle will rotate along the 
								opposite side of its parent circle.
							</p>
						</li>
					</ul>
				</p>
			</div>
		</div>
	</body>
</html>