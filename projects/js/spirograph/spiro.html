<!DOCTYPE HTML>

<html>
	<head>
		<title>Spirograph</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width" />
		<link href="/css/site.min.css" rel="stylesheet">
		<script src="/js/site.min.js" type="text/javascript"></script>

		<link href="spiro.css" rel="stylesheet" />
		<script type="text/javascript" src="spiro.min.js"></script>
		<script type="text/javascript" src="../util.min.js"></script>
	</head>

	<body>
		<div class="contentbox">
			<h2>Spirograph</h2>
			<div id="canvases">
				<canvas id="spiro-canvas" width="500" height="500"></canvas>
				<canvas id="info-canvas" width="500" height="500"></canvas>
			</div>

			<div id="controls">
				<div class="control"><button id="pause-btn">Pause</button></div>
				<div class="control"><button id="reset-btn">Reset</button></div>
				<div class="control">
					<button id="save-btn">Save</button><br>
					<img id="save-img" width="50" height="50" />
				</div>
				<div class="control">Speed: <input id="speed-input" type="number" min="0.0" step="any"> rad / sec</div>
				<div class="control">Iterations: <input id="iter-input" type="number" min="0" step="1"></div>
				<div class="control">Pen Distance: <input id="pendist-input" type="number" min="-2" max="2" step="0.1"></div>
				<div class="control">
					<input type="checkbox" id="show-circles">Show circles<br>
					<input type="checkbox" id="show-radii">Show radii<br>
					<input type="checkbox" id="show-pen">Show pen<br>
					<input type="checkbox" id="use-color">Use color<br>
				</div>
			</div>

			<div id="circles"></div>
		</div>

		<div id="info">
			<div class="contentbox">
				space to play / pause<br>
				enter to reset<br>
				+ / - change the number of iterations<br>
				left / right arrows change the speed<br>
				NOTE: things get more interesting at high speeds ;)
			</div>
			<div class="contentbox">
				<h2>About Spirograph:</h2>
				<div>
					This is a highly customizable emulator of the classic "Spirograph" toy.
					It is possible to have many nested "gears" of different sizes, each rotating at different speeds, and a pen at some point along the innermost circle tracing a path on the canvas.
					What follows is a description of each feature or option, and what it does:

					<ul>
						<li>
							<h3>Speed</h3>
							<p>
								This value represents a global multiplier by which the speed of every circle is multiplied.<br>
								The higher this value, the faster the spirograph will move.
							</p>
							<p>
								At high speeds, interesting things start to happen.<br>
								The precision of the spirograph begins to degrade, and the lines drawn between sample points start to become more visible.<br>
								Increasing the speed even further can create interesting visual effects, so I encourage you to give it a try.
							</p>
						</li>
						<li>
							<h3>Iterations</h3>
							<p>
								The number of sample points calculated along the Spirograph every frame.
							</p>
							<p>
								Spirograph calculates a new frame roughly every 15 milliseconds.<br>
								If only a single point along the spirograph was calculated each frame, the precision would degrade quickly, even at low speeds.<br>
								So we take multiple samples (iterations) per frame.<br>
								Increasing this value means that you can get a more accurate Spirograph even at high speeds, at the cost of extra computing power.
							</p>
						</li>
						<li>
							<h3>Pen Distance</h3>
							<p>
								How far along the innermost circle's radius the pen lies.<br>
							</p>
							<p>
								Each frame, lines are drawn between calculated points along the Spirograph.<br>
								These lines follow the pen, which is connected to the center-most circle.<br>
								Note that the pen distance may lie outside of the circle. This can lead to some interesting effects.
							</p>
						</li>
						<li>
							<h3>Color</h3>
							<p>
								When drawing with color, the angle of the innermost circle is used to determine the hue.
							</p>
						</li>
						<li>
							<h3>Circles</h3>
							<p>
								Spirograph keeps track of a list of nested circles, which rotate as if they were gears spinning along the inside of the gear above it.<br>
								Each circle has a radius and a speed.
							</p>
							<p>
								A circle's speed is a measure of how far along the inside of the parent circle it rotates each second.<br>
								So a circle with speed 3.14 would complete one half revolution around its parent each second.<br>
								Speeds may be negative, in which case the circle will simply rotate in the opposite direction.
							</p>
							<p>
								A circle's radius should have absolute value between 0 and 1.<br>
								Higher values are acceptable, but will not fit inside of the canvas.<br>
								A circle's radius may be negative, in which case the circle will rotate along the opposite side of its parent circle.
							</p>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</body>
</html>
